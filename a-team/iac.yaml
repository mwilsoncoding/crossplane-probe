---
apiVersion: v1
kind: Secret
metadata:
  name: my-db-password
type: Opaque
---
apiVersion: sql.gcp.upbound.io/v1beta1
kind: DatabaseInstance
metadata:
  annotations:
    meta.upbound.io/id: sql/v1beta1/databaseinstance
  labels:
    testing.upbound.io/name: db_inst_01
  name: db-inst-01
spec:
  forProvider:
    databaseVersion: MYSQL_5_7
    deletionProtection: false
    region: us-central1
    settings:
      - diskSize: 20
        tier: db-f1-micro
  writeConnectionSecretToRef:
    name: my-db-password
    # namespace: a-team
---
apiVersion: compute.gcp.upbound.io/v1beta1
kind: Instance
metadata:
  name: my-vm
spec:
  forProvider:
    bootDisk:
      - initializeParams:
          - image: debian-cloud/debian-11
    machineType: f1-micro
    networkInterface:
      - networkRef:
          name: dev-network
    zone: us-east1-b
    desiredStatus: RUNNING
    allowStoppingForUpdate: true
---
apiVersion: compute.gcp.upbound.io/v1beta1
kind: Network
metadata:
  name: dev-network
spec:
  forProvider: {}
