---
apiVersion: sql.gcp.upbound.io/v1beta1
kind: DatabaseInstance
metadata:
  annotations:
    meta.upbound.io/id: sql/v1beta1/databaseinstance
  name: db-inst-01
spec:
  forProvider:
    databaseVersion: POSTGRES_15
    deletionProtection: false
    region: us-central1
    settings:
      - diskSize: 10
        edition: enterprise
        insightsConfig:
          queryInsightsEnabled: true
          queryStringLength: 4500
          recordApplicationTags: true
          recordClientAddress: true
        ipConfiguration:
          enablePrivatePathForGoogleCloudServices: true
          ipv4Enabled: false
          privateNetwork: dev-network
        tier: db-f1-micro
  writeConnectionSecretToRef:
    name: db-inst-01-connection
    namespace: a-team
---
apiVersion: compute.gcp.upbound.io/v1beta1
kind: Instance
metadata:
  name: my-vm
spec:
  forProvider:
    bootDisk:
      - initializeParams:
          - image: debian-cloud/debian-11
    machineType: f1-micro
    networkInterface:
      - networkRef:
          name: dev-network
    zone: us-east1-b
    desiredStatus: RUNNING
    allowStoppingForUpdate: true
---
apiVersion: compute.gcp.upbound.io/v1beta1
kind: Network
metadata:
  name: dev-network
spec:
  forProvider: {}
